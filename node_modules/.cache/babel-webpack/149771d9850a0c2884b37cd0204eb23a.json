{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = places;\n\nvar _events = _interopRequireDefault(require(\"events\"));\n\nvar _algoliasearchLite = _interopRequireDefault(require(\"algoliasearch/src/browser/builds/algoliasearchLite\"));\n\nvar _autocomplete = _interopRequireDefault(require(\"autocomplete.js\"));\n\nrequire(\"./navigatorLanguage\");\n\nvar _createAutocompleteDataset = _interopRequireDefault(require(\"./createAutocompleteDataset\"));\n\nvar _insertCss = _interopRequireDefault(require(\"insert-css\"));\n\nvar _errors = _interopRequireDefault(require(\"./errors\"));\n\nvar _createReverseGeocodingSource = _interopRequireDefault(require(\"./createReverseGeocodingSource\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/* babel-plugin-inline-import './icons/clear.svg' */\n\n\nvar clearIcon = \"<svg width=\\\"12\\\" height=\\\"12\\\" viewBox=\\\"0 0 12 12\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M.566 1.698L0 1.13 1.132 0l.565.566L6 4.868 10.302.566 10.868 0 12 1.132l-.566.565L7.132 6l4.302 4.3.566.568L10.868 12l-.565-.566L6 7.132l-4.3 4.302L1.13 12 0 10.868l.566-.565L4.868 6 .566 1.698z\\\"/></svg>\\n\";\n/* babel-plugin-inline-import './icons/address.svg' */\n\nvar pinIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"20\\\" height=\\\"20\\\" viewBox=\\\"0 0 14 20\\\"><path d=\\\"M7 0C3.13 0 0 3.13 0 7c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5C5.62 9.5 4.5 8.38 4.5 7S5.62 4.5 7 4.5 9.5 5.62 9.5 7 8.38 9.5 7 9.5z\\\"/></svg>\\n\";\n/* babel-plugin-inline-import './places.css' */\n\nvar css = \".algolia-places {\\n  width: 100%;\\n}\\n\\n.ap-input, .ap-hint {\\n  width: 100%;\\n  padding-right: 35px;\\n  padding-left: 16px;\\n  line-height: 40px;\\n  height: 40px;\\n  border: 1px solid #CCC;\\n  border-radius: 3px;\\n  outline: none;\\n  font: inherit;\\n  appearance: none;\\n  -webkit-appearance: none;\\n  box-sizing: border-box;\\n}\\n\\n.ap-input::-webkit-search-decoration {\\n  -webkit-appearance: none;\\n}\\n\\n.ap-input::-ms-clear {\\n  display: none;\\n}\\n\\n.ap-input:hover ~ .ap-input-icon svg,\\n.ap-input:focus ~ .ap-input-icon svg,\\n.ap-input-icon:hover svg {\\n  fill: #aaaaaa;\\n}\\n\\n.ap-dropdown-menu {\\n  width: 100%;\\n  background: #ffffff;\\n  box-shadow: 0 1px 10px rgba(0, 0, 0, 0.2), 0 2px 4px 0 rgba(0, 0, 0, 0.1);\\n  border-radius: 3px;\\n  margin-top: 3px;\\n  overflow: hidden;\\n}\\n\\n.ap-suggestion {\\n  cursor: pointer;\\n  height: 46px;\\n  line-height: 46px;\\n  padding-left: 18px;\\n  overflow: hidden;\\n}\\n\\n.ap-suggestion em {\\n  font-weight: bold;\\n  font-style: normal;\\n}\\n\\n.ap-address {\\n  font-size: smaller;\\n  margin-left: 12px;\\n  color: #aaaaaa;\\n}\\n\\n.ap-suggestion-icon {\\n  margin-right: 10px;\\n  width: 14px;\\n  height: 20px;\\n  vertical-align: middle;\\n}\\n\\n.ap-suggestion-icon svg {\\n  -webkit-transform: scale(0.9) translateY(2px);\\n          transform: scale(0.9) translateY(2px);\\n  fill: #cfcfcf;\\n}\\n\\n.ap-input-icon {\\n  border: 0;\\n  background: transparent;\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  right: 16px;\\n  outline: none;\\n}\\n\\n.ap-input-icon.ap-icon-pin {\\n  cursor: initial;\\n}\\n\\n.ap-input-icon svg {\\n  fill: #cfcfcf;\\n  position: absolute;\\n  top: 50%;\\n  right: 0;\\n  -webkit-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n}\\n\\n.ap-cursor {\\n  background: #efefef;\\n}\\n\\n.ap-cursor .ap-suggestion-icon svg {\\n  -webkit-transform: scale(1) translateY(2px);\\n          transform: scale(1) translateY(2px);\\n  fill: #aaaaaa;\\n}\\n\\n.ap-footer {\\n  opacity: .8;\\n  text-align: right;\\n  padding: .5em 1em .5em 0;\\n  font-size: 12px;\\n  line-height: 12px;\\n}\\n\\n.ap-footer a {\\n  color: inherit;\\n  text-decoration: none;\\n}\\n\\n.ap-footer a svg {\\n  vertical-align: middle;\\n}\\n\\n.ap-footer:hover {\\n  opacity: 1;\\n}\\n\";\n(0, _insertCss[\"default\"])(css, {\n  prepend: true\n});\n\nfunction places(options) {\n  var container = options.container,\n      style = options.style,\n      _options$autocomplete = options.autocompleteOptions,\n      userAutocompleteOptions = _options$autocomplete === void 0 ? {} : _options$autocomplete; // multiple DOM elements targeted\n\n  if (container instanceof NodeList) {\n    if (container.length > 1) {\n      throw new Error(_errors[\"default\"].multiContainers);\n    } // if single node NodeList received, resolve to the first one\n\n\n    return places(_objectSpread({}, options, {\n      container: container[0]\n    }));\n  } // container sent as a string, resolve it for multiple DOM elements issue\n\n\n  if (typeof container === 'string') {\n    var resolvedContainer = document.querySelectorAll(container);\n    return places(_objectSpread({}, options, {\n      container: resolvedContainer\n    }));\n  } // if not an <input>, error\n\n\n  if (!(container instanceof HTMLInputElement)) {\n    throw new Error(_errors[\"default\"].badContainer);\n  }\n\n  var placesInstance = new _events[\"default\"]();\n  var prefix = \"ap\".concat(style === false ? '-nostyle' : '');\n\n  var autocompleteOptions = _objectSpread({\n    autoselect: true,\n    hint: false,\n    cssClasses: {\n      root: \"algolia-places\".concat(style === false ? '-nostyle' : ''),\n      prefix: prefix\n    },\n    debug: process.env.NODE_ENV === 'development'\n  }, userAutocompleteOptions);\n\n  var autocompleteDataset = (0, _createAutocompleteDataset[\"default\"])(_objectSpread({}, options, {\n    algoliasearch: _algoliasearchLite[\"default\"],\n    onHits: function onHits(_ref) {\n      var hits = _ref.hits,\n          rawAnswer = _ref.rawAnswer,\n          query = _ref.query;\n      return placesInstance.emit('suggestions', {\n        rawAnswer: rawAnswer,\n        query: query,\n        suggestions: hits\n      });\n    },\n    onError: function onError(e) {\n      return placesInstance.emit('error', e);\n    },\n    onRateLimitReached: function onRateLimitReached() {\n      var listeners = placesInstance.listenerCount('limit');\n\n      if (listeners === 0) {\n        console.log(_errors[\"default\"].rateLimitReached); // eslint-disable-line\n\n        return;\n      }\n\n      placesInstance.emit('limit', {\n        message: _errors[\"default\"].rateLimitReached\n      });\n    },\n    onInvalidCredentials: function onInvalidCredentials() {\n      if (options && options.appId && options.appId.startsWith('pl')) {\n        console.error(_errors[\"default\"].invalidCredentials); // eslint-disable-line\n      } else {\n        console.error(_errors[\"default\"].invalidAppId); // eslint-disable-line\n      }\n    },\n    container: undefined\n  }));\n  var autocompleteInstance = (0, _autocomplete[\"default\"])(container, autocompleteOptions, autocompleteDataset);\n  var autocompleteContainer = container.parentNode;\n  var autocompleteChangeEvents = ['selected', 'autocompleted'];\n  autocompleteChangeEvents.forEach(function (eventName) {\n    autocompleteInstance.on(\"autocomplete:\".concat(eventName), function (_, suggestion) {\n      placesInstance.emit('change', {\n        rawAnswer: suggestion.rawAnswer,\n        query: suggestion.query,\n        suggestion: suggestion,\n        suggestionIndex: suggestion.hitIndex\n      });\n    });\n  });\n  autocompleteInstance.on('autocomplete:cursorchanged', function (_, suggestion) {\n    placesInstance.emit('cursorchanged', {\n      rawAnswer: suggestion.rawAnswer,\n      query: suggestion.query,\n      suggestion: suggestion,\n      suggestionIndex: suggestion.hitIndex\n    });\n  });\n  var clear = document.createElement('button');\n  clear.setAttribute('type', 'button');\n  clear.setAttribute('aria-label', 'clear');\n  clear.classList.add(\"\".concat(prefix, \"-input-icon\"));\n  clear.classList.add(\"\".concat(prefix, \"-icon-clear\"));\n  clear.innerHTML = clearIcon;\n  autocompleteContainer.appendChild(clear);\n  clear.style.display = 'none';\n  var pin = document.createElement('button');\n  pin.setAttribute('type', 'button');\n  pin.setAttribute('aria-label', 'focus');\n  pin.classList.add(\"\".concat(prefix, \"-input-icon\"));\n  pin.classList.add(\"\".concat(prefix, \"-icon-pin\"));\n  pin.innerHTML = pinIcon;\n  autocompleteContainer.appendChild(pin);\n  pin.addEventListener('click', function () {\n    autocompleteDataset.source.configure({\n      useDeviceLocation: true\n    });\n    autocompleteInstance.focus();\n  });\n  clear.addEventListener('click', function () {\n    autocompleteInstance.autocomplete.setVal('');\n    autocompleteInstance.focus();\n    clear.style.display = 'none';\n    pin.style.display = '';\n    placesInstance.emit('clear');\n  });\n  var previousQuery = '';\n\n  var inputListener = function inputListener() {\n    var query = autocompleteInstance.val();\n\n    if (query === '') {\n      pin.style.display = '';\n      clear.style.display = 'none';\n\n      if (previousQuery !== query) {\n        placesInstance.emit('clear');\n      }\n    } else {\n      clear.style.display = '';\n      pin.style.display = 'none';\n    }\n\n    previousQuery = query;\n  };\n\n  autocompleteContainer.querySelector(\".\".concat(prefix, \"-input\")).addEventListener('input', inputListener);\n  var autocompleteIsomorphicMethods = ['open', 'close', 'getVal'];\n  autocompleteIsomorphicMethods.forEach(function (methodName) {\n    placesInstance[methodName] = function () {\n      var _autocompleteInstance;\n\n      (_autocompleteInstance = autocompleteInstance.autocomplete)[methodName].apply(_autocompleteInstance, arguments);\n    };\n  });\n\n  placesInstance.destroy = function () {\n    var _autocompleteInstance2;\n\n    autocompleteContainer.querySelector(\".\".concat(prefix, \"-input\")).removeEventListener('input', inputListener);\n\n    (_autocompleteInstance2 = autocompleteInstance.autocomplete).destroy.apply(_autocompleteInstance2, arguments);\n  };\n\n  placesInstance.setVal = function () {\n    var _autocompleteInstance3;\n\n    previousQuery = arguments.length <= 0 ? undefined : arguments[0];\n\n    if (previousQuery === '') {\n      pin.style.display = '';\n      clear.style.display = 'none';\n    } else {\n      clear.style.display = '';\n      pin.style.display = 'none';\n    }\n\n    (_autocompleteInstance3 = autocompleteInstance.autocomplete).setVal.apply(_autocompleteInstance3, arguments);\n  };\n\n  placesInstance.autocomplete = autocompleteInstance;\n\n  placesInstance.search = function () {\n    var query = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    return new Promise(function (resolve) {\n      autocompleteDataset.source(query, resolve);\n    });\n  };\n\n  placesInstance.configure = function (configuration) {\n    var safeConfig = _objectSpread({}, configuration);\n\n    delete safeConfig.onHits;\n    delete safeConfig.onError;\n    delete safeConfig.onRateLimitReached;\n    delete safeConfig.onInvalidCredentials;\n    delete safeConfig.templates;\n    autocompleteDataset.source.configure(safeConfig);\n    return placesInstance;\n  };\n\n  placesInstance.reverse = (0, _createReverseGeocodingSource[\"default\"])(_objectSpread({}, options, {\n    algoliasearch: _algoliasearchLite[\"default\"],\n    formatInputValue: (options.templates || {}).value,\n    onHits: function onHits(_ref2) {\n      var hits = _ref2.hits,\n          rawAnswer = _ref2.rawAnswer,\n          query = _ref2.query;\n      return placesInstance.emit('reverse', {\n        rawAnswer: rawAnswer,\n        query: query,\n        suggestions: hits\n      });\n    },\n    onError: function onError(e) {\n      return placesInstance.emit('error', e);\n    },\n    onRateLimitReached: function onRateLimitReached() {\n      var listeners = placesInstance.listenerCount('limit');\n\n      if (listeners === 0) {\n        console.log(_errors[\"default\"].rateLimitReached); // eslint-disable-line\n\n        return;\n      }\n\n      placesInstance.emit('limit', {\n        message: _errors[\"default\"].rateLimitReached\n      });\n    },\n    onInvalidCredentials: function onInvalidCredentials() {\n      if (options && options.appId && options.appId.startsWith('pl')) {\n        console.error(_errors[\"default\"].invalidCredentials); // eslint-disable-line\n      } else {\n        console.error(_errors[\"default\"].invalidAppId); // eslint-disable-line\n      }\n    }\n  }));\n  return placesInstance;\n}","map":{"version":3,"sources":["E:/Projets/projet web avance/angular/angularTest/node_modules/places.js/src/places.js"],"names":["Object","defineProperty","exports","value","places","_events","_interopRequireDefault","require","_algoliasearchLite","_autocomplete","_createAutocompleteDataset","_insertCss","_errors","_createReverseGeocodingSource","obj","__esModule","_objectSpread","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","configurable","writable","clearIcon","pinIcon","css","prepend","options","container","style","_options$autocomplete","autocompleteOptions","userAutocompleteOptions","NodeList","Error","multiContainers","resolvedContainer","document","querySelectorAll","HTMLInputElement","badContainer","placesInstance","prefix","autoselect","hint","cssClasses","root","debug","process","env","NODE_ENV","autocompleteDataset","algoliasearch","onHits","_ref","hits","rawAnswer","query","emit","suggestions","onError","e","onRateLimitReached","listeners","listenerCount","console","log","rateLimitReached","message","onInvalidCredentials","appId","startsWith","error","invalidCredentials","invalidAppId","undefined","autocompleteInstance","autocompleteContainer","parentNode","autocompleteChangeEvents","eventName","on","_","suggestion","suggestionIndex","hitIndex","clear","createElement","setAttribute","classList","add","innerHTML","appendChild","display","pin","addEventListener","configure","useDeviceLocation","focus","autocomplete","setVal","previousQuery","inputListener","val","querySelector","autocompleteIsomorphicMethods","methodName","_autocompleteInstance","apply","destroy","_autocompleteInstance2","removeEventListener","_autocompleteInstance3","search","Promise","resolve","configuration","safeConfig","templates","reverse","formatInputValue","_ref2"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = places;\n\nvar _events = _interopRequireDefault(require(\"events\"));\n\nvar _algoliasearchLite = _interopRequireDefault(require(\"algoliasearch/src/browser/builds/algoliasearchLite\"));\n\nvar _autocomplete = _interopRequireDefault(require(\"autocomplete.js\"));\n\nrequire(\"./navigatorLanguage\");\n\nvar _createAutocompleteDataset = _interopRequireDefault(require(\"./createAutocompleteDataset\"));\n\nvar _insertCss = _interopRequireDefault(require(\"insert-css\"));\n\nvar _errors = _interopRequireDefault(require(\"./errors\"));\n\nvar _createReverseGeocodingSource = _interopRequireDefault(require(\"./createReverseGeocodingSource\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/* babel-plugin-inline-import './icons/clear.svg' */\nvar clearIcon = \"<svg width=\\\"12\\\" height=\\\"12\\\" viewBox=\\\"0 0 12 12\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M.566 1.698L0 1.13 1.132 0l.565.566L6 4.868 10.302.566 10.868 0 12 1.132l-.566.565L7.132 6l4.302 4.3.566.568L10.868 12l-.565-.566L6 7.132l-4.3 4.302L1.13 12 0 10.868l.566-.565L4.868 6 .566 1.698z\\\"/></svg>\\n\";\n\n/* babel-plugin-inline-import './icons/address.svg' */\nvar pinIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"20\\\" height=\\\"20\\\" viewBox=\\\"0 0 14 20\\\"><path d=\\\"M7 0C3.13 0 0 3.13 0 7c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5C5.62 9.5 4.5 8.38 4.5 7S5.62 4.5 7 4.5 9.5 5.62 9.5 7 8.38 9.5 7 9.5z\\\"/></svg>\\n\";\n\n/* babel-plugin-inline-import './places.css' */\nvar css = \".algolia-places {\\n  width: 100%;\\n}\\n\\n.ap-input, .ap-hint {\\n  width: 100%;\\n  padding-right: 35px;\\n  padding-left: 16px;\\n  line-height: 40px;\\n  height: 40px;\\n  border: 1px solid #CCC;\\n  border-radius: 3px;\\n  outline: none;\\n  font: inherit;\\n  appearance: none;\\n  -webkit-appearance: none;\\n  box-sizing: border-box;\\n}\\n\\n.ap-input::-webkit-search-decoration {\\n  -webkit-appearance: none;\\n}\\n\\n.ap-input::-ms-clear {\\n  display: none;\\n}\\n\\n.ap-input:hover ~ .ap-input-icon svg,\\n.ap-input:focus ~ .ap-input-icon svg,\\n.ap-input-icon:hover svg {\\n  fill: #aaaaaa;\\n}\\n\\n.ap-dropdown-menu {\\n  width: 100%;\\n  background: #ffffff;\\n  box-shadow: 0 1px 10px rgba(0, 0, 0, 0.2), 0 2px 4px 0 rgba(0, 0, 0, 0.1);\\n  border-radius: 3px;\\n  margin-top: 3px;\\n  overflow: hidden;\\n}\\n\\n.ap-suggestion {\\n  cursor: pointer;\\n  height: 46px;\\n  line-height: 46px;\\n  padding-left: 18px;\\n  overflow: hidden;\\n}\\n\\n.ap-suggestion em {\\n  font-weight: bold;\\n  font-style: normal;\\n}\\n\\n.ap-address {\\n  font-size: smaller;\\n  margin-left: 12px;\\n  color: #aaaaaa;\\n}\\n\\n.ap-suggestion-icon {\\n  margin-right: 10px;\\n  width: 14px;\\n  height: 20px;\\n  vertical-align: middle;\\n}\\n\\n.ap-suggestion-icon svg {\\n  -webkit-transform: scale(0.9) translateY(2px);\\n          transform: scale(0.9) translateY(2px);\\n  fill: #cfcfcf;\\n}\\n\\n.ap-input-icon {\\n  border: 0;\\n  background: transparent;\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  right: 16px;\\n  outline: none;\\n}\\n\\n.ap-input-icon.ap-icon-pin {\\n  cursor: initial;\\n}\\n\\n.ap-input-icon svg {\\n  fill: #cfcfcf;\\n  position: absolute;\\n  top: 50%;\\n  right: 0;\\n  -webkit-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n}\\n\\n.ap-cursor {\\n  background: #efefef;\\n}\\n\\n.ap-cursor .ap-suggestion-icon svg {\\n  -webkit-transform: scale(1) translateY(2px);\\n          transform: scale(1) translateY(2px);\\n  fill: #aaaaaa;\\n}\\n\\n.ap-footer {\\n  opacity: .8;\\n  text-align: right;\\n  padding: .5em 1em .5em 0;\\n  font-size: 12px;\\n  line-height: 12px;\\n}\\n\\n.ap-footer a {\\n  color: inherit;\\n  text-decoration: none;\\n}\\n\\n.ap-footer a svg {\\n  vertical-align: middle;\\n}\\n\\n.ap-footer:hover {\\n  opacity: 1;\\n}\\n\";\n(0, _insertCss[\"default\"])(css, {\n  prepend: true\n});\n\nfunction places(options) {\n  var container = options.container,\n      style = options.style,\n      _options$autocomplete = options.autocompleteOptions,\n      userAutocompleteOptions = _options$autocomplete === void 0 ? {} : _options$autocomplete; // multiple DOM elements targeted\n\n  if (container instanceof NodeList) {\n    if (container.length > 1) {\n      throw new Error(_errors[\"default\"].multiContainers);\n    } // if single node NodeList received, resolve to the first one\n\n\n    return places(_objectSpread({}, options, {\n      container: container[0]\n    }));\n  } // container sent as a string, resolve it for multiple DOM elements issue\n\n\n  if (typeof container === 'string') {\n    var resolvedContainer = document.querySelectorAll(container);\n    return places(_objectSpread({}, options, {\n      container: resolvedContainer\n    }));\n  } // if not an <input>, error\n\n\n  if (!(container instanceof HTMLInputElement)) {\n    throw new Error(_errors[\"default\"].badContainer);\n  }\n\n  var placesInstance = new _events[\"default\"]();\n  var prefix = \"ap\".concat(style === false ? '-nostyle' : '');\n\n  var autocompleteOptions = _objectSpread({\n    autoselect: true,\n    hint: false,\n    cssClasses: {\n      root: \"algolia-places\".concat(style === false ? '-nostyle' : ''),\n      prefix: prefix\n    },\n    debug: process.env.NODE_ENV === 'development'\n  }, userAutocompleteOptions);\n\n  var autocompleteDataset = (0, _createAutocompleteDataset[\"default\"])(_objectSpread({}, options, {\n    algoliasearch: _algoliasearchLite[\"default\"],\n    onHits: function onHits(_ref) {\n      var hits = _ref.hits,\n          rawAnswer = _ref.rawAnswer,\n          query = _ref.query;\n      return placesInstance.emit('suggestions', {\n        rawAnswer: rawAnswer,\n        query: query,\n        suggestions: hits\n      });\n    },\n    onError: function onError(e) {\n      return placesInstance.emit('error', e);\n    },\n    onRateLimitReached: function onRateLimitReached() {\n      var listeners = placesInstance.listenerCount('limit');\n\n      if (listeners === 0) {\n        console.log(_errors[\"default\"].rateLimitReached); // eslint-disable-line\n\n        return;\n      }\n\n      placesInstance.emit('limit', {\n        message: _errors[\"default\"].rateLimitReached\n      });\n    },\n    onInvalidCredentials: function onInvalidCredentials() {\n      if (options && options.appId && options.appId.startsWith('pl')) {\n        console.error(_errors[\"default\"].invalidCredentials); // eslint-disable-line\n      } else {\n        console.error(_errors[\"default\"].invalidAppId); // eslint-disable-line\n      }\n    },\n    container: undefined\n  }));\n  var autocompleteInstance = (0, _autocomplete[\"default\"])(container, autocompleteOptions, autocompleteDataset);\n  var autocompleteContainer = container.parentNode;\n  var autocompleteChangeEvents = ['selected', 'autocompleted'];\n  autocompleteChangeEvents.forEach(function (eventName) {\n    autocompleteInstance.on(\"autocomplete:\".concat(eventName), function (_, suggestion) {\n      placesInstance.emit('change', {\n        rawAnswer: suggestion.rawAnswer,\n        query: suggestion.query,\n        suggestion: suggestion,\n        suggestionIndex: suggestion.hitIndex\n      });\n    });\n  });\n  autocompleteInstance.on('autocomplete:cursorchanged', function (_, suggestion) {\n    placesInstance.emit('cursorchanged', {\n      rawAnswer: suggestion.rawAnswer,\n      query: suggestion.query,\n      suggestion: suggestion,\n      suggestionIndex: suggestion.hitIndex\n    });\n  });\n  var clear = document.createElement('button');\n  clear.setAttribute('type', 'button');\n  clear.setAttribute('aria-label', 'clear');\n  clear.classList.add(\"\".concat(prefix, \"-input-icon\"));\n  clear.classList.add(\"\".concat(prefix, \"-icon-clear\"));\n  clear.innerHTML = clearIcon;\n  autocompleteContainer.appendChild(clear);\n  clear.style.display = 'none';\n  var pin = document.createElement('button');\n  pin.setAttribute('type', 'button');\n  pin.setAttribute('aria-label', 'focus');\n  pin.classList.add(\"\".concat(prefix, \"-input-icon\"));\n  pin.classList.add(\"\".concat(prefix, \"-icon-pin\"));\n  pin.innerHTML = pinIcon;\n  autocompleteContainer.appendChild(pin);\n  pin.addEventListener('click', function () {\n    autocompleteDataset.source.configure({\n      useDeviceLocation: true\n    });\n    autocompleteInstance.focus();\n  });\n  clear.addEventListener('click', function () {\n    autocompleteInstance.autocomplete.setVal('');\n    autocompleteInstance.focus();\n    clear.style.display = 'none';\n    pin.style.display = '';\n    placesInstance.emit('clear');\n  });\n  var previousQuery = '';\n\n  var inputListener = function inputListener() {\n    var query = autocompleteInstance.val();\n\n    if (query === '') {\n      pin.style.display = '';\n      clear.style.display = 'none';\n\n      if (previousQuery !== query) {\n        placesInstance.emit('clear');\n      }\n    } else {\n      clear.style.display = '';\n      pin.style.display = 'none';\n    }\n\n    previousQuery = query;\n  };\n\n  autocompleteContainer.querySelector(\".\".concat(prefix, \"-input\")).addEventListener('input', inputListener);\n  var autocompleteIsomorphicMethods = ['open', 'close', 'getVal'];\n  autocompleteIsomorphicMethods.forEach(function (methodName) {\n    placesInstance[methodName] = function () {\n      var _autocompleteInstance;\n\n      (_autocompleteInstance = autocompleteInstance.autocomplete)[methodName].apply(_autocompleteInstance, arguments);\n    };\n  });\n\n  placesInstance.destroy = function () {\n    var _autocompleteInstance2;\n\n    autocompleteContainer.querySelector(\".\".concat(prefix, \"-input\")).removeEventListener('input', inputListener);\n\n    (_autocompleteInstance2 = autocompleteInstance.autocomplete).destroy.apply(_autocompleteInstance2, arguments);\n  };\n\n  placesInstance.setVal = function () {\n    var _autocompleteInstance3;\n\n    previousQuery = arguments.length <= 0 ? undefined : arguments[0];\n\n    if (previousQuery === '') {\n      pin.style.display = '';\n      clear.style.display = 'none';\n    } else {\n      clear.style.display = '';\n      pin.style.display = 'none';\n    }\n\n    (_autocompleteInstance3 = autocompleteInstance.autocomplete).setVal.apply(_autocompleteInstance3, arguments);\n  };\n\n  placesInstance.autocomplete = autocompleteInstance;\n\n  placesInstance.search = function () {\n    var query = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    return new Promise(function (resolve) {\n      autocompleteDataset.source(query, resolve);\n    });\n  };\n\n  placesInstance.configure = function (configuration) {\n    var safeConfig = _objectSpread({}, configuration);\n\n    delete safeConfig.onHits;\n    delete safeConfig.onError;\n    delete safeConfig.onRateLimitReached;\n    delete safeConfig.onInvalidCredentials;\n    delete safeConfig.templates;\n    autocompleteDataset.source.configure(safeConfig);\n    return placesInstance;\n  };\n\n  placesInstance.reverse = (0, _createReverseGeocodingSource[\"default\"])(_objectSpread({}, options, {\n    algoliasearch: _algoliasearchLite[\"default\"],\n    formatInputValue: (options.templates || {}).value,\n    onHits: function onHits(_ref2) {\n      var hits = _ref2.hits,\n          rawAnswer = _ref2.rawAnswer,\n          query = _ref2.query;\n      return placesInstance.emit('reverse', {\n        rawAnswer: rawAnswer,\n        query: query,\n        suggestions: hits\n      });\n    },\n    onError: function onError(e) {\n      return placesInstance.emit('error', e);\n    },\n    onRateLimitReached: function onRateLimitReached() {\n      var listeners = placesInstance.listenerCount('limit');\n\n      if (listeners === 0) {\n        console.log(_errors[\"default\"].rateLimitReached); // eslint-disable-line\n\n        return;\n      }\n\n      placesInstance.emit('limit', {\n        message: _errors[\"default\"].rateLimitReached\n      });\n    },\n    onInvalidCredentials: function onInvalidCredentials() {\n      if (options && options.appId && options.appId.startsWith('pl')) {\n        console.error(_errors[\"default\"].invalidCredentials); // eslint-disable-line\n      } else {\n        console.error(_errors[\"default\"].invalidAppId); // eslint-disable-line\n      }\n    }\n  }));\n  return placesInstance;\n}"]},"metadata":{},"sourceType":"script"}